<div class="applications-view" [ngClass]="configService.isApplistListVisible ? 'app-list-open':'app-list-closed'">
  <h1 class="sr-only">Public Review and Comment Applications</h1>

  <app-applist-filters class="app-filters" #appfilters
    [applications]="applications"
    (updateMatching)="onUpdateMatching($event)">
  </app-applist-filters>

  <div class="app-list-map-container">
    <div class="app-list-container">
      <app-applist-list class="app-list" #applist
        [applications]="applications"
        (setCurrentApp)="onHighlightApplication($event, true)"
        (unsetCurrentApp)="onHighlightApplication($event, false)"
        (loadMore)="onLoadMore()"
        (listPageSizeChange)="onListPageSizeChange()"
        (updateResultsChange)="onUpdateResultsChange()"
        (drawShapesChange)="onDrawShapesChange()"
        (clusterAppsChange)="onClusterAppsChange()">
      </app-applist-list>
      <button class="toggle-app-list-btn btn" title="Show/hide list of applications" type="button"
        (click)="toggleAppList();$event.stopPropagation();" aria-controls="applist-list">
        <i class="material-icons">{{configService.isApplistListVisible ? 'keyboard_arrow_left':'keyboard_arrow_right'}}</i>
      </button>
    </div>

    <div class="overlay" (click)="toggleAppList();$event.stopPropagation();"></div>

    <app-applist-map class="app-map" #appmap
      [applications]="applications"
      [applist]="applist"
      [appfilters]="appfilters"
      (reloadList)="onReloadList()">
    </app-applist-map>
  </div>

</div>